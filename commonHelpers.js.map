{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\"use strict\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst apiKey = \"42731864-a3c3d068e2b72bbf390461e5a\";\n\nexport function fetchImages(searchWord) {\n  const options = {\n    method: \"GET\",\n  };\n\n  const url = new URL(\"https://pixabay.com/api/\");\n  const params = new URLSearchParams({\n    key: apiKey,\n    q: searchWord,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n  });\n\n  url.search = params.toString();\n\n  return fetch(url.toString(), options)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      \n      return response.json();\n    })\n    .catch((error) => {\n      throw new Error(error.message);\n    });\n}\n\n","\"use strict\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nexport const gallery = document.querySelector(\".gallery-ul\");\nexport function renderPhoto(photo) {\n  \n  let markup = \"\";\n  for (let key in photo.hits){\n    markup += `\n        <li class=\"gallery-item\">\n        <a href=\"${photo.hits[key].largeImageURL}\"><img class=\"photo-img\" src=\"${photo.hits[key].largeImageURL}\"></a>\n        <ul class=\"gallery-info\">\n        <li class=\"info-item\"><h3 class=\"photo-header\">Likes</h3>\n        <p class=\"photo-value\">${photo.hits[key].likes}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Views</h3>\n       <p class=\"photo-value\">${photo.hits[key].views}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Comments</h3>\n        <p class=\"photo-value\">${photo.hits[key].comments}</p></li>\n        <li class=\"info-item\"><h3 class=\"photo-header\">Downloads</h3>\n        <p class=\"photo-value\">${photo.hits[key].downloads}</p></li>\n        </ul>\n        <li>`;\n  }\n  gallery.insertAdjacentHTML(\"afterbegin\", markup);\n}\n\nexport function clearGalleryHtml (){\n  gallery.innerHTML = ``;\n  \n  \n}","\"use strict\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport * as  httpFunc from  \"./js/pixabay-api.js\";\nimport * as render from \"./js/render-functions.js\";\n\nconst searchInput = document.querySelector(\".search-input\");\nconst searchButton = document.querySelector(\".search-btn\");\nconst loader = document.querySelector(\".loader\");\nlet gallerys = new SimpleLightbox('.gallery a', {captionsData: `alt`, captionDelay: 250,});\n\nfunction showLoader() {\n    loader.style.display = \"flex\";\n}\n\nfunction hideLoader() {\n    loader.style.display = \"none\";\n}\nsearchButton.addEventListener(\"click\", (event) =>{\n    event.preventDefault();\n    render.clearGalleryHtml();\n    const searchWord =  searchInput.value;\n    if(searchInput.value === \"\"){\n        iziToast.show({\n            title: 'Warning',\n            message: 'search input is empty!',\n            position: 'topLeft',\n            backgroundColor: \"yellow\",\n        });\n        \n    }\n    else{\n        showLoader();\n        httpFunc.fetchImages(searchWord)\n        .then((images) => {\n            hideLoader();\n            if (images.hits.length > 0) {\n              render.renderPhoto(images);\n              gallerys.refresh();\n            } else {\n              iziToast.show({\n                title: 'Error',\n                message: 'Image not found',\n                position: 'topLeft',\n                backgroundColor: \"red\",\n              });\n            }\n          })\n        .catch((error) => {\n            hideLoader();\n            console.log(error);\n        });\n        \n        searchInput.value = \"\";\n    }\n\n})\n\n\n\n"],"names":["apiKey","fetchImages","searchWord","options","url","params","response","error","gallery","renderPhoto","photo","markup","key","clearGalleryHtml","searchInput","searchButton","loader","gallerys","SimpleLightbox","showLoader","hideLoader","event","render.clearGalleryHtml","iziToast","httpFunc.fetchImages","images","render.renderPhoto"],"mappings":"6vBAIA,MAAMA,EAAS,qCAER,SAASC,EAAYC,EAAY,CACtC,MAAMC,EAAU,CACd,OAAQ,KACZ,EAEQC,EAAM,IAAI,IAAI,0BAA0B,EACxCC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAED,OAAAE,EAAI,OAASC,EAAO,WAEb,MAAMD,EAAI,SAAQ,EAAID,CAAO,EACjC,KAAMG,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAOC,GAAU,CAChB,MAAM,IAAI,MAAMA,EAAM,OAAO,CACnC,CAAK,CACL,CC9BO,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpD,SAASC,EAAYC,EAAO,CAEjC,IAAIC,EAAS,GACb,QAASC,KAAOF,EAAM,KACpBC,GAAU;AAAA;AAAA,mBAEKD,EAAM,KAAKE,CAAG,EAAE,aAAa,iCAAiCF,EAAM,KAAKE,CAAG,EAAE,aAAa;AAAA;AAAA;AAAA,iCAG7EF,EAAM,KAAKE,CAAG,EAAE,KAAK;AAAA;AAAA,gCAEtBF,EAAM,KAAKE,CAAG,EAAE,KAAK;AAAA;AAAA,iCAEpBF,EAAM,KAAKE,CAAG,EAAE,QAAQ;AAAA;AAAA,iCAExBF,EAAM,KAAKE,CAAG,EAAE,SAAS;AAAA;AAAA,cAIxDJ,EAAQ,mBAAmB,aAAcG,CAAM,CACjD,CAEO,SAASE,GAAmB,CACjCL,EAAQ,UAAY,EAGtB,CCtBA,MAAMM,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAC,aAAc,MAAO,aAAc,GAAG,CAAE,EAEzF,SAASC,GAAa,CAClBH,EAAO,MAAM,QAAU,MAC3B,CAEA,SAASI,GAAa,CAClBJ,EAAO,MAAM,QAAU,MAC3B,CACAD,EAAa,iBAAiB,QAAUM,GAAS,CAC7CA,EAAM,eAAc,EACpBC,IACA,MAAMpB,EAAcY,EAAY,MAC7BA,EAAY,QAAU,GACrBS,EAAS,KAAK,CACV,MAAO,UACP,QAAS,yBACT,SAAU,UACV,gBAAiB,QAC7B,CAAS,GAIDJ,IACAK,EAAqBtB,CAAU,EAC9B,KAAMuB,GAAW,CACdL,IACIK,EAAO,KAAK,OAAS,GACvBC,EAAmBD,CAAM,EACzBR,EAAS,QAAO,GAEhBM,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,kBACT,SAAU,UACV,gBAAiB,KACjC,CAAe,CAEf,CAAW,EACF,MAAOhB,GAAU,CACda,IACA,QAAQ,IAAIb,CAAK,CAC7B,CAAS,EAEDO,EAAY,MAAQ,GAG5B,CAAC"}